# Klipper Configuration - Anycubic Chiron
# Board: BTT SKR 3 EZ (STM32H743, 128KiB bootloader, USB)
# Toolhead: BTT EBB36 CAN (canbus_uuid: <YOUR_UUID>)
# Hotend: TZ E3 2.0 (V6 groove mount)
# Extruder: HGX Lite + FYSETC 36mm NEMA14 round body (on EBB36)
# Probe: BDsensor-M (EBB36 I2C, mesh only — optical endstop handles Z home)
# Bed: MIC-6 6mm 410x430mm, Keenovo AC silicone heater via Crydom D1D40 SSR
# Host: Raspberry Pi 5 4GB
# Input Shaping: ADXL345 built into EBB36
#
# ⚠️  Pin assignments marked "verify" must be confirmed against BTT SKR 3 EZ pinout PDF
#    (available at github.com/bigtreetech/SKR-3)
#
# ⚠️  EBB36 pin assignments must be confirmed against BTT EBB36 v1.2 pinout diagram
#    (available at github.com/bigtreetech/EBB)
#
# ⚠️  Values marked <PLACEHOLDER> must be filled in after physical installation:
#    - <YOUR_SERIAL>: discovered via: ls /dev/serial/by-id/
#    - <YOUR_EBB36_UUID>: discovered via: ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0
#    - <X_OFFSET>, <Y_OFFSET>: measure BDsensor-to-nozzle distance after mounting toolhead
#    - <Z_LEFT_X>, <Z_RIGHT_X>: measure leadscrew positions with calipers (Task 1)
#    - <FILAMENT_SENSOR_PIN>: verify EBB36 v1.2 pinout
#
# Boot checklist (in order after hardware install):
#   1. QUERY_ENDSTOPS — verify X, Y, Z trigger correctly
#   2. G28 with hand on e-stop — verify all axes home safely
#   3. PROBE_ACCURACY — verify BDsensor std dev < 0.010mm
#   4. Z_TILT_ADJUST — confirm both Z motors move and converge
#   5. BED_MESH_CALIBRATE PROFILE=initial
#   6. PROBE_CALIBRATE — paper test, set z_offset
#   7. SAVE_CONFIG
#   8. PID_CALIBRATE HEATER=extruder TARGET=220
#   9. PID_CALIBRATE HEATER=heater_bed TARGET=60
#  10. SAVE_CONFIG
#  11. SHAPER_CALIBRATE
#  12. First print at conservative speeds

# ----------------- INCLUDES -----------------
[include mainsail.cfg]
[include KAMP_Settings.cfg]
[include start.cfg]
[include macros.cfg]

# ----------------- MCU -----------------
[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32h743xx_<YOUR_SERIAL>-if00

[mcu EBBCan]
canbus_uuid: <YOUR_EBB36_UUID>

[mcu rpi]
serial: /tmp/klipper_host_mcu

# ----------------- PRINTER -----------------
[printer]
kinematics: cartesian
max_velocity: 300
max_accel: 3000
max_z_velocity: 10
max_z_accel: 100
square_corner_velocity: 5.0
